{{ 'component-image-with-text.css' | asset_url | stylesheet_tag }}

{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top }}px;
    padding-bottom: {{ section.settings.padding_bottom }}px;
  }

  @media screen and (max-width: 750px) {
   .section-{{ section.id }}-padding  {
      padding-top: {{ section.settings.padding_top_mobile }}px;
      padding-bottom: {{ section.settings.padding_bottom_mobile }}px;
    }
  }
.deals-offers {
    background: #F9FAFB;
    border-bottom: 1px solid #b4b4b4;
}
  .image-text-slider {
    display: grid;
    grid-template-columns: 24% 74%;
    gap: 30px;
}
.thirty-perc {
    background: #F5911F;
    padding: 30px;
    text-align: center;
    border-radius: 10px;
    height: 100%;
    align-items: center;
    display: flex;
}
h2.section-deal-heading.h2 {
    font-size: 40px;
    letter-spacing: 0;
    text-align: center;
    text-transform: capitalize;
    color: #ffffff;
    margin-top: 0;
}
.section-deail-text.body p {
    font-size: 18px;
    letter-spacing: 0;
    text-align: center;
    text-transform: capitalize;
    color: #ffffff;
}
   /*   arrow */
  .product-grid-wrapper .slick-prev:before {
    content: "\f104";
    font-family: "FontAwesome";
    color: #ffffff;
    font-size: 16px;
}
  .product-grid-wrapper .slick-next:before {
    content: "\f105";
    font-family: "FontAwesome";
    color: #ffffff;
    font-size: 16px;
}
  .product-grid-wrapper button.slick-arrow {
    background: #D3D3D3;
    width: 40px;
    height: 40px;
    border-radius: 50px;
    z-index: 1;
    top: 40%;
    transform: translateY(-40%);
}
  .product-grid-wrapper .slick-prev {   left: 20px;}
  .product-grid-wrapper .slick-next {    right: 20px;}

  .product-grid-wrapper button.slick-arrow:hover {    background: #F5911F;}
  .deals-offers .slick-slide {
    margin: 0 15px;
  }
  .deals-offers .slick-list.draggable {
      margin: 0 -15px;
  }
    @media(max-width:1500px){
    .deals-offers .slick-slide {  margin: 0 10px;}
    .deals-offers .slick-list.draggable {    margin: 0 -10px;}
    .testi-inner {  padding: 40px 22px;}
    .image-text-slider {    gap: 20px;}
  }

  @media(max-width:1300px){
    h2.section-deal-heading.h2 {    font-size: 30px;    line-height: 37px;    margin-bottom: 10px;}
    .section-deail-text.body p {    font-size: 15px;    line-height: 22px;}
  }
  
  @media(max-width:1100px){
    .image-text-slider {    grid-template-columns: 32% 66%;}
  }
  
   @media(max-width:900px){
    .image-text-slider {    grid-template-columns: 48% 48%;}
  }
  
  @media(max-width:600px){
    .image-text-slider {    grid-template-columns: 100%;  gap: 30px;}
    .section-deail-text.body p {    font-size: 18px;    line-height: 29px;}
  }
{%- endstyle -%}

<div class="deal-products-section image-with-text image-with-text--{{ section.settings.content_layout }} isolate{% if settings.text_boxes_border_thickness > 0 and settings.text_boxes_border_opacity > 0 and settings.media_border_thickness > 0 and settings.media_border_opacity > 0 %} collapse-borders{% endif %}{% unless section.settings.color_scheme == 'background-1' and settings.media_border_thickness > 0 and settings.text_boxes_shadow_opacity == 0 and settings.text_boxes_border_thickness == 0 or settings.text_boxes_border_opacity == 0 %} collapse-corners{% endunless %} section-{{ section.id }}-padding {{ section.settings.section_css_class }}">
  <div class="page-width">
     <h2
        class="banner__heading inline-richtext {{ section.settings.heading_size }}"
        {{ section.shopify_attributes }}
    >
        {{ section.settings.heading }}
    </h2>
    <div class="image-text-slider">
      <div class="thirty-perc">
        <div id="ImageWithText--{{ section.id }}" class="image-with-text__content-1">
          {%- for block in section.blocks -%}
            {% case block.type %}
              {%- when 'heading' -%}
                <h2 class="section-deal-heading {{ block.settings.heading_size }}" {{ block.shopify_attributes }}>
                  {{ block.settings.heading | escape }}
                </h2>
              {%- when 'caption' -%}
                <p class=" section-deail-caption {{ block.settings.text_style }} {{ block.settings.text_style }}--{{ block.settings.text_size }} {{ block.settings.text_style }}" {{ block.shopify_attributes }}>{{ block.settings.caption | escape }}</p>
              {%- when 'text' -%}
                <div class="section-deail-text {{ block.settings.text_style }}" {{ block.shopify_attributes }}>{{ block.settings.text }}</div>
              {%- when 'button' -%}
                {%- if block.settings.button_label != blank -%}
                  <a{% if block.settings.button_link == blank %} role="link" aria-disabled="true"{% else %} href="{{ block.settings.button_link }}"{% endif %} class="button{% if block.settings.button_style_secondary %} button--secondary{% else %} button--primary-button{% endif %}" {{ block.shopify_attributes }}>
                    {{ block.settings.button_label | escape }}
                  </a>
                {%- endif -%}
            {%- endcase -%}
          {%- endfor -%}
        </div>
      </div>
      <div class="image-with-text__media-item   seventy-perc">
        <div class="product-grid-wrapper ">
            <div id="Slider-{{ section.id }}" class="deail-of-slider grid product-grid contains-card contains-card--product{% if settings.card_style == 'standard' %} contains-card--standard{% endif %} grid--{{ section.settings.columns_desktop }}-col-desktop{% if section.settings.collection == blank %} grid--2-col-tablet-down{% else %} grid--{{ section.settings.columns_mobile }}-col-tablet-down{% endif %}{% if show_mobile_slider or show_desktop_slider %} slider{% if show_desktop_slider %} slider--desktop{% endif %}{% if show_mobile_slider %} slider--tablet grid--peek{% endif %}{% endif %}" role="list" aria-label="{{ 'general.slider.name' | t }}">
                {%- for product in section.settings.selected_collection.products limit: section.settings.products_to_show -%}
                <div id="Slide-{{ section.id }}-{{ forloop.index }}" class="grid__item{% if show_mobile_slider or show_desktop_slider %} slider__slide{% endif %}">
                    {% render 'card-product',
                    card_product: product,
                    media_aspect_ratio: section.settings.image_ratio,
                    show_secondary_image: section.settings.show_secondary_image,
                    show_vendor: section.settings.show_vendor,
                    show_rating: section.settings.show_rating,
                    show_quick_add: section.settings.enable_quick_add,
                    section_id: section.id
                    %}
                </div>
                {%- else -%}
                {%- for i in (1..3) -%}
                    <div class="grid__item">
                    {% render 'card-product', show_vendor: section.settings.show_vendor %}
                    </div>
                {%- endfor -%}
                {%- endfor -%}
            </div>
        </div>
      </div>
    </div>
  </div>
</div>


<script type="text/javascript">
  $(document).ready(function() {
    $('.deal-products-section .product-grid').slick({
      infinite: true,
      autoplay: true,
      arrows:true,
      slidesToShow: 3,
      slidesToScroll: 1,
      responsive: [
        {
          breakpoint: 1100,
          settings: {
            slidesToShow: 2,
            slidesToScroll: 1
          }
        },
        {
          breakpoint: 900,
          settings: {
            slidesToShow: 1,
            slidesToScroll: 1
          }
        },
        {
          breakpoint: 480,
          settings: {
            slidesToShow: 1,
            slidesToScroll: 1
          }
        }
        // You can unslick at a given breakpoint now by adding:
        // settings: "unslick"
        // instead of a settings object
      ]
    });
  });
</script>

{% schema %}
{
  "name": "Custom deal product",
  "class": "section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "default": "Products with Deals",
      "label": "Heading"
    },
    {
      "type": "select",
      "id": "heading_size",
      "options": [
        {
          "value": "h2",
          "label": "t:sections.all.heading_size.options__1.label"
        },
        {
          "value": "h1",
          "label": "t:sections.all.heading_size.options__2.label"
        },
        {
          "value": "h0",
          "label": "t:sections.all.heading_size.options__3.label"
        }
      ],
      "default": "h1",
      "label": "t:sections.all.heading_size.label"
    },
    {
        "type": "collection",
        "id": "selected_collection",
        "label": "Collection"
    },
    {
      "type": "text",
      "id": "section_css_class",
      "label": "Section CSS Class",
      "default": "css"
    },
    {
      "type": "header",
      "content": "t:sections.all.padding.section_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_top_mobile",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding Top Mobile",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom_mobile",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding Bottom Mobile",
      "default": 36
    }
  ],
  "blocks": [
    {
      "type": "heading",
      "name": "t:sections.image-with-text.blocks.heading.name",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "default": "Image with text",
          "label": "t:sections.image-with-text.blocks.heading.settings.heading.label"
        },
        {
          "type": "select",
          "id": "heading_size",
          "options": [
            {
              "value": "h2",
              "label": "t:sections.all.heading_size.options__1.label"
            },
            {
              "value": "h1",
              "label": "t:sections.all.heading_size.options__2.label"
            },
            {
              "value": "h0",
              "label": "t:sections.all.heading_size.options__3.label"
            }
          ],
          "default": "h1",
          "label": "t:sections.all.heading_size.label"
        }
      ]
    },
    {
      "type": "caption",
      "name": "t:sections.image-with-text.blocks.caption.name",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "caption",
          "default": "Add a tagline",
          "label": "t:sections.image-with-text.blocks.caption.settings.text.label"
        },
        {
          "type": "select",
          "id": "text_style",
          "options": [
            {
              "value": "subtitle",
              "label": "t:sections.image-with-text.blocks.caption.settings.text_style.options__1.label"
            },
            {
              "value": "caption-with-letter-spacing",
              "label": "t:sections.image-with-text.blocks.caption.settings.text_style.options__2.label"
            }
          ],
          "default": "caption-with-letter-spacing",
          "label": "t:sections.image-with-text.blocks.caption.settings.text_style.label"
        },
        {
          "type": "select",
          "id": "text_size",
          "options": [
            {
              "value": "small",
              "label": "t:sections.image-with-text.blocks.caption.settings.caption_size.options__1.label"
            },
            {
              "value": "medium",
              "label": "t:sections.image-with-text.blocks.caption.settings.caption_size.options__2.label"
            },
            {
              "value": "large",
              "label": "t:sections.image-with-text.blocks.caption.settings.caption_size.options__3.label"
            }
          ],
          "default": "medium",
          "label": "t:sections.image-with-text.blocks.caption.settings.caption_size.label"
        }
      ]
    },
    {
      "type": "text",
      "name": "t:sections.image-with-text.blocks.text.name",
      "limit": 1,
      "settings": [
        {
          "type": "richtext",
          "id": "text",
          "default": "<p>Pair text with an image to focus on your chosen product, collection, or blog post. Add details on availability, style, or even provide a review.</p>",
          "label": "t:sections.image-with-text.blocks.text.settings.text.label"
        },
        {
          "type": "select",
          "id": "text_style",
          "options": [
            {
              "value": "body",
              "label": "t:sections.image-with-text.blocks.text.settings.text_style.options__1.label"
            },
            {
              "value": "subtitle",
              "label": "t:sections.image-with-text.blocks.text.settings.text_style.options__2.label"
            }
          ],
          "default": "body",
          "label": "t:sections.image-with-text.blocks.text.settings.text_style.label"
        }
      ]
    },
    {
      "type": "button",
      "name": "t:sections.image-with-text.blocks.button.name",
      "limit": 1,
      "settings": [
        {
          "type": "text",
          "id": "button_label",
          "default": "Button label",
          "label": "t:sections.image-with-text.blocks.button.settings.button_label.label",
          "info": "t:sections.image-with-text.blocks.button.settings.button_label.info"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "t:sections.image-with-text.blocks.button.settings.button_link.label"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Custom deal product",
      "blocks": [
        {
          "type": "heading"
        },
        {
          "type": "text"
        },
        {
          "type": "button"
        }
      ],
      "category": "Custom"
    }
  ]
}
{% endschema %}