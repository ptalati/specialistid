{{ 'component-card.css' | asset_url | stylesheet_tag }}
{{ 'component-price.css' | asset_url | stylesheet_tag }}
 <link rel="stylesheet" href="{{ 'quick-add.css' | asset_url }}" media="print" onload="this.media='all'">
 <script src="{{ 'quick-add.js' | asset_url }}" defer="defer"></script>
 <script src="{{ 'product-form.js' | asset_url }}" defer="defer"></script>

<style>
  .collection-slider-section--{{ section.id }}{
     padding-top: {{ section.settings.padding_top }}px;
     padding-bottom: {{ section.settings.padding_bottom }}px;
    background: #F9FAFB;
}
  .collection-slider--{{ section.id }} .main-collection-slide {
    margin: 0 15px;
    position: relative;
}
  .collection-slider--{{ section.id }} .collection-slider-items
 .slick-list.draggable {
    margin: 0 -15px;
}
.collection-slider--{{ section.id }} .collection-slider-heading h2 {
    font-size: 40px;
    line-height: 100%;
    letter-spacing: 0;
    text-transform: capitalize;
    margin-bottom: 50px;
    color: #3A3A3C;
    margin-top:0px;
}
  .collection-slider--{{ section.id }} .collection-slider-button.bottom {
    margin-top: 25px;
    z-index: 0;
    position: relative;
    justify-content: center;
    align-items: center;
    text-align: center;
}
  .collection-slider-section--{{ section.id }} a.collection-slider-btn {
    background:{{section.settings.button-back}};
    color:{{section.settings.button-color}};
}
  .collection-slider-section--{{ section.id }} a.collection-slider-btn:hover {
    background: {{section.settings.button-back-hover}};
    color: {{section.settings.button-color-hover}};
}

    /*   arrow */
 .collection-slider--{{ section.id }} .slick-prev:before {
    content: "\f104";
    font-family: "FontAwesome";
    color: #ffffff;
    font-size: 16px;
}
  .collection-slider--{{ section.id }} .slick-next:before {
    content: "\f105";
    font-family: "FontAwesome";
    color: #ffffff;
    font-size: 16px;
}
.collection-slider--{{ section.id }} button.slick-arrow {
    background: #D3D3D3;
    width: 40px;
    height: 40px;
    border-radius: 50px;
    z-index: 1;
    top: 35%;
    transform: translateY(-35%);
}
  .collection-slider--{{ section.id }} .slick-prev {   left: -60px;}
  .collection-slider--{{ section.id }} .slick-next {    right: -60px;}

  .collection-slider--{{ section.id }} button.slick-arrow:hover {    background: #F5911F;}

  /* collection-slider-section */
.collection-slider--{{ section.id }} .main-collection-slide .full-unstyled-link {
    font-size: 16px;
    line-height: normal;
    letter-spacing: 0;
    text-align: center;
    text-transform: capitalize;
    color: #3A3A3C;
    font-weight: 400 !important;
}
.collection-slider--{{ section.id }} .main-collection-slide .price span {
    font-weight: 700;
    font-size: 16px;
    line-height: 100%;
    letter-spacing: 0;
    text-align: center;
    text-transform: capitalize;
    color: #F5911F !important;
}
.collection-slider--{{ section.id }} .main-collection-slide .price {
    text-align: center;
}
.collection-slider--{{ section.id }} .main-collection-slide span.price-item.price-item--sale.price-item--last {
    font-weight: 700;
    font-size: 16px;
    line-height: 100%;
    letter-spacing: 0;
    text-align: center;
    text-transform: capitalize;
    color: #F5911F !important;
}

 @media(max-width:1750px){
  .collection-slider--{{ section.id }} .slick-prev {    left: -30px;}
  .collection-slider--{{ section.id }} .slick-next {    right: -30px;}
  }

   @media(max-width:1500px){
    .collection-slider--{{ section.id }} button.slick-arrow {    top: 30%;    transform: translateY(-30%);}
    .collection-slider--{{ section.id }} .main-collection-slide {    margin: 0 10px; }
     .collection-slider--{{ section.id }} .collection-slider-items  .slick-list.draggable {    margin: 0 -10px;}
  }

 @media(max-width:1100px){
  .collection-slider--{{ section.id }} .collection-slider-heading h2 {    font-size: 35px;}
   .collection-slider-section--{{ section.id }} a.collection-slider-btn {    padding: 14px 20px;}
}
  @media(max-width:989px){
    .collection-slider--{{ section.id }} .collection-slider-button.bottom {   margin-top: 20px;   display: block;}
}
  @media(max-width:749px){
    .collection-slider--{{ section.id }} .collection-slider-heading h2 {     font-size: 30px;}
  .collection-slider-section--{{ section.id }} {
    padding-top: {{ section.settings.padding_top_mobile }}px;
    padding-bottom: {{ section.settings.padding_bottom_mobile }}px;
  }
}
.collection-slider--{{ section.id }} .slick-dots li button:before {   font-size: 0px;}
.collection-slider--{{ section.id }} .slick-dots {   position: absolute;    bottom: -20px;}

</style>

<div class="collection-slider-section--{{ section.id }} {% unless section.settings.background_style == 'none' and settings.text_boxes_border_thickness > 0 or settings.text_boxes_shadow_opacity > 0 %} background-{{ section.settings.background_style }}{% endunless %}">
 <div class="page-width">
  <div class="collection-slider--{{ section.id }}">
   <div class="collection-slider-heading">
      <h2 style="text-align: {{ section.settings.text_alignment }}">{{ section.settings.product_heading }}</h2>
   </div>
   <div class="collection-slider-items">
    {% for block in section.blocks %}
      {% if block.type == 'product' and block.settings.product != blank %}
        {% assign product = block.settings.product %}
        <div class="main-collection-slide" {{ block.shopify_attributes }}>
          <div class="collection-slide-info">
               {% render 'card-product',
                  card_product: product,
                  media_aspect_ratio: section.settings.image_ratio,
                  show_secondary_image: section.settings.show_secondary_image,
                  show_vendor: section.settings.show_vendor,
                  show_rating: section.settings.show_rating,
                  show_quick_add: section.settings.enable_quick_add,
                  section_id: section.id
                %}
          </div>
        </div>
      {% endif %}
    {% endfor %}
   </div>
    {% if section.settings.button != blank %}
    <div class="collection-slider-button bottom">
      <a class="collection-slider-btn button" href="{{ section.settings.link }}">{{ section.settings.button }}</a>
    </div>
    {% endif %}
  </div>
 </div>
</div>


<script type="text/javascript">
  function initCollectionSlider_{{ section.id | replace: '-', '_' }}() {
    var $slider = $('.collection-slider-section--{{ section.id }} .collection-slider-items');
    $slider.not('.slick-initialized').slick({
      dots: false,
      infinite: true,
      speed: 500,
      slidesToShow: 4,
      slidesToScroll: 3,
      arrows: true,
      responsive: [
        {
          breakpoint: 1100,
          settings: {
            slidesToShow: 3,
            slidesToScroll: 3,
            autoplay: false,
            autoplaySpeed: 1000,
            arrows: false
          }
        },
        {
          breakpoint: 800,
          settings: {
            slidesToShow: 2,
            slidesToScroll: 2,
            autoplay: false,
            autoplaySpeed: 1000,
            arrows: false
          }
        },
        {
          breakpoint: 700,
          settings: {
            slidesToShow: 1,
            slidesToScroll: 1,
            autoplay: false,
            autoplaySpeed: 1000,
            arrows: false
          }
        }
      ]
    });
  }

  $(document).ready(function() {
    initCollectionSlider_{{ section.id | replace: '-', '_' }}();
  });

  document.addEventListener('shopify:section:load', function(event) {
    if (event.detail.sectionId === '{{ section.id }}') {
      initCollectionSlider_{{ section.id | replace: '-', '_' }}();
    }
  });
</script>


{% schema %}
 {
"name": "Custom collection slider",
"settings": [
       {
        "type": "text",
        "id": "product_heading",
        "label": "Top Heading"
       },
       {
          "type": "text_alignment",
          "id": "text_alignment",
          "label": "Text Alignment",
          "default": "center"
       },
      {
        "type":"color",
        "id":"text_color",
        "label":"Product title Color"
      },
      {
          "type": "select",
          "id": "image_ratio",
          "options": [
            {
              "value": "adapt",
              "label": "t:sections.featured-collection.settings.image_ratio.options__1.label"
            },
            {
              "value": "portrait",
              "label": "t:sections.featured-collection.settings.image_ratio.options__2.label"
            },
            {
              "value": "square",
              "label": "t:sections.featured-collection.settings.image_ratio.options__3.label"
            }
          ],
          "default": "adapt",
          "label": "t:sections.featured-collection.settings.image_ratio.label"
      },
      {
        "type": "checkbox",
        "id": "show_secondary_image",
        "default": false,
        "label": "t:sections.featured-collection.settings.show_secondary_image.label"
      },
      {
        "type": "checkbox",
        "id": "show_vendor",
        "default": false,
        "label": "t:sections.featured-collection.settings.show_vendor.label"
      },
      {
        "type": "checkbox",
        "id": "show_rating",
        "default": false,
        "label": "t:sections.main-collection-product-grid.settings.show_rating.label",
        "info": "t:sections.main-collection-product-grid.settings.show_rating.info"
      },
      {
        "type": "checkbox",
        "id": "enable_quick_add",
        "default": false,
        "label": "t:sections.featured-collection.settings.enable_quick_buy.label"
      },
      {
        "type": "header",
        "content": "Section Button"
      },
      {
         "type":"text",
         "id":"button",
         "label":"Button Label"
      },
      {
         "type":"url",
         "id":"link",
         "label":"Link"
      },
      {
         "type":"color",
         "id":"button-color",
         "label":"Button Color"
      },
      {
         "type":"color_background",
         "id":"button-back",
         "label":"Button Background"
      },
      {
        "type":"color_background",
        "id":"button-back-hover",
        "label":"Button Hover background"
     },
     {
        "type":"color",
        "id":"button-color-hover",
        "label":"label Hover"
     },
     {
        "type": "header",
        "content": "t:sections.all.padding.section_padding_heading"
     },
    {
      "type": "select",
      "id": "background_style",
      "options": [
        {
          "value": "none",
          "label": "t:sections.multicolumn.settings.background_style.options__1.label"
        },
        {
          "value": "primary",
          "label": "t:sections.multicolumn.settings.background_style.options__2.label"
        }
      ],
      "default": "primary",
      "label": "t:sections.multicolumn.settings.background_style.label"
    },
     {
      "type": "header",
      "content": "Section Padding"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 200,
      "step": 4,
      "unit": "px",
      "label": "Padding Top",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 200,
      "step": 4,
      "unit": "px",
      "label": "Padding Bottom",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_top_mobile",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding Top Mobile",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom_mobile",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "Padding Bottom Mobile",
      "default": 36
    }
  ],
  "blocks": [
    {
      "type": "product",
      "name": "Product",
      "settings": [
        {
          "type": "product",
          "id": "product",
          "label": "Product"
        }
      ]
    }
  ],
  "presets": [
    {
        "name": "Custom collection slider",
        "category": "Custom"
    }
  ]
}
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}